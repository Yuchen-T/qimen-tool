# 奇门遁甲辅助工具 ☯️

基于民用晨暮光（Civil Twilight）的真太阳时变动时辰计算工具

## ✨ 功能特点

### 📅 变动时辰计算器
- **昼七夜五规则**：白天分7个时辰，夜晚分5个时辰
- **天文数据自动获取**：基于 ipgeolocation.io API 获取精确的晨暮光时间
- **智能地点选择**：支持中国省市联动选择，自动获取经纬度
- **秒级精度**：支持精确到秒的时间计算
- **完整时辰表**：展示当日完整的12时辰划分

### 🧭 奇仪排盘查询
- **反查甲位**：已知用神（天干+门/星），反推甲的位置
- **正查用神**：已知甲位，查询指定天干的门/星位置
- **内置对应关系**：完整的奇门遁甲奇仪对应数据

### 🎨 现代化设计
- **亮色/暗色主题**：支持手动切换，自动保存偏好
- **响应式布局**：完美支持桌面端和移动端
- **玻璃拟态设计**：现代化的 UI 风格
- **流畅动画**：优雅的过渡效果和交互反馈

## 🚀 在线访问

访问地址：[https://yuchen-t.github.io/qimen-tool/](https://yuchen-t.github.io/qimen-tool/)

## 📖 使用说明

### 时辰计算
1. 选择省份和城市（自动获取经纬度）
2. 选择查询日期
3. 等待自动获取天文数据（民用晨暮光时间）
4. 输入查询时间点
5. 点击"开始计算"查看结果

### 奇仪查询
**反查甲位**：
- 选择天干（乙-癸）
- 选择门/星组合
- 点击"查询甲位"

**正查用神**：
- 选择甲所在的门/星
- 选择要查询的天干
- 点击"查询用神"

## 🛠️ 技术栈

- **前端框架**：纯 HTML + JavaScript
- **CSS 框架**：Tailwind CSS 3.x
- **图标库**：Phosphor Icons
- **天文计算**：SunCalc.js
- **数据源**：
  - ipgeolocation.io（天文数据）
  - Open-Meteo / OpenStreetMap（地理编码）

## 📝 原理说明

### 变动时辰（昼七夜五）
传统的固定时辰制（子丑寅卯...）将一天均分为12个时辰，每时辰2小时。但在奇门遁甲中，有"变动时辰"的概念：

- **白昼（卯-酉）**：从民用晨光始到民用暮光终，分为7个时辰
- **黑夜（戌-寅）**：从民用暮光终到次日民用晨光始，分为5个时辰

这种划分方式更贴近自然的昼夜变化，随季节和纬度自动调整。

### 民用晨暮光（Civil Twilight）
- **晨光始**：太阳在地平线下6°，天空开始变亮
- **暮光终**：太阳落到地平线下6°，天空完全变暗

本工具使用真实天文数据，确保时辰划分的准确性。

## 📄 许可证

MIT License

## 👨‍💻 作者

Yuchen

---

如有问题或建议，欢迎提交 Issue！

